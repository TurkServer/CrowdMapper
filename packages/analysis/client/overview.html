<template name="overviewLayout">
    <div class="container-fluid inherit-height">
        <div class="row flex inherit-height">
            <div class="col-md-1">
                <ul class="nav nav-pills nav-stacked">
                    <li>
                        <a href="{{pathFor 'overview'}}">Overview</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewExperiments'}}">All Experiments</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewPeople'}}">All Participants</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewTagging'}}">Tagging</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewStats'}}">Computed Stats</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewIndivPerformance'}}">Individual Performance</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewGroupScatter'}}">Group Scatterplot</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewGroupPerformance'}}">Groups Over Time</a>
                    </li>
                    <li>
                        <a href="{{pathFor 'overviewGroupSlices'}}">Groups Sliced</a>
                    </li>
                </ul>
            </div>
            {{> yield}}
        </div>
    </div>
</template>

<template name="overview">
    <div class="col-md-10">
        <h3>Overview</h3>

        <p>Click bits to the left to see graphs.</p>

        <h4>Run data analysis functions:</h4>
        <ol>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-populate-analysis-worlds">
                    Populate data analysis collections
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-download"
                        data-method="cm-download-individual-groups">
                    Download individual group CSV
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-compute-user-metadata">
                    Compute metadata for users
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-compute-group-metadata">
                    Compute metadata for groups
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-get-action-weights">
                    Compute average action weights
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-compute-group-performance">
                    Compute group performance and effort
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-compute-group-quadrants">
                    Compute group performance (quadrants)
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-compute-chat-weight">
                    Compute group chat weight
                </button>
            </li>
            <li>
                Download data frame:
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="time" data-arg2="0.25">
                    1/4
                </button>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="time" data-arg2="0.5">
                    1/2
                </button>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="time" data-arg2="0.75">
                    3/4
                </button>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="time">
                    End
                </button>
            </li>
            <li>
                Download data frame (time normalized):
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="persontime" data-arg2="1">
                    1 hour
                </button>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="persontime" data-arg2="2">
                    2 hours
                </button>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="persontime" data-arg2="3">
                    3 hours
                </button>
            </li>
            <li>
                Download data frame (effort normalized):
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="effort" data-arg2="1">
                    1 hour
                </button>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="effort" data-arg2="2">
                    2 hours
                </button>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-data-csv" data-arg1="effort" data-arg2="3">
                    3 hours
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-download"
                        data-method="cm-generate-effort-quadrants">
                    Download effort quadrants
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-analysis"
                        data-method="cm-compute-synthetic-performance">
                    Compute synthetic group performance
                </button>
            </li>
            <li>
                <button class="btn btn-default cm-download"
                        data-method="cm-download-synthetic-performance">
                    Download synthetic performance
                </button>
            </li>
        </ol>
    </div>
</template>

<template name="analysisExpLinks">
    <a href="{{ pathFor 'viz' groupId=id }}">viz</a>
    <a href="{{ pathFor 'watch' instance=id }}">watch</a>
    <a href="{{ pathFor 'replay' instance=id }}">replay</a>
</template>

<template name="overviewExperiments">
    <div class="col-md-11 scroll-vertical">
        <h3>List of Experiments</h3>
        {{> reactiveTable collection=this settings=settings}}
    </div>
</template>

<template name="overviewStats">
    <div class="col-md-11 scroll-vertical">
        <h3>Computed Seconds Per Action</h3>
        {{> reactiveTable collection=actionArray settings=settings }}
    </div>
</template>

<template name="overviewPeople">
    <div class="col-md-11 scroll-vertical">
        <h3>List of Participants</h3>
        {{> reactiveTable collection=this settings=settings }}
    </div>
</template>

<template name="sizeLegend">
    <h3>Legend</h3>
    <h4 class="legend">
        <div style="background: {{color 1}}">Size 1</div>
        <div style="background: {{color 2}}">Size 2</div>
        <div style="background: {{color 4}}">Size 4</div>
        <div style="background: {{color 8}}">Size 8</div>
        <div style="background: {{color 16}}">Size 16</div>
        <div style="background: {{color 32}}">Size 32</div>
    </h4>
</template>
